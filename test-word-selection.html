<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PageTalk 划词助手测试页面</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .test-section h2 {
            color: #007AFF;
            margin-top: 0;
        }
        
        .long-content {
            height: 1500px;
            background: linear-gradient(to bottom, #fff, #f0f0f0);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        textarea {
            width: 100%;
            height: 100px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
            resize: vertical;
        }
        
        .github-like {
            background: #0d1117;
            color: #c9d1d9;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .github-like textarea {
            background: #21262d;
            color: #c9d1d9;
            border: 1px solid #30363d;
        }
        
        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            border-left: 4px solid #2196f3;
        }
        
        .scroll-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 6px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="scroll-indicator">
        滚动位置: <span id="scroll-pos">0</span>px
    </div>
    
    <div class="container">
        <h1>PageTalk 划词助手测试页面</h1>
        
        <div class="instructions">
            <strong>测试说明：</strong>
            <ol>
                <li>选择下面任意文本，观察划词助手是否正确出现</li>
                <li>滚动页面，观察UI元素是否正确跟随选中文本</li>
                <li>在不同类型的元素中测试（普通文本、输入框、GitHub风格区域）</li>
                <li>测试在页面滚动后UI元素的定位是否准确</li>
            </ol>
        </div>
        
        <div class="test-section">
            <h2>1. 普通文本测试</h2>
            <p>这是一段普通的测试文本。请选择这段文字中的任意部分，观察划词助手是否正确显示。人工智能技术正在快速发展，深度学习、机器学习、自然语言处理等技术已经在各个领域得到广泛应用。</p>
            
            <p>第二段文本用于测试多段落的情况。选择这里的文字应该能够正常触发划词助手功能。区块链技术作为一种分布式账本技术，具有去中心化、不可篡改、透明公开等特点。</p>
        </div>
        
        <div class="test-section">
            <h2>2. 输入框测试</h2>
            <p>在输入框中选择文本应该也能正常工作：</p>
            <textarea placeholder="在这里输入一些文本，然后选择其中的内容测试划词助手功能。这个输入框用于测试在可编辑元素中是否能正常使用划词助手。"></textarea>
        </div>
        
        <div class="test-section">
            <h2>3. 长内容滚动测试</h2>
            <p>下面是一个很长的内容区域，用于测试滚动时的定位：</p>
            <div class="long-content">
                <h3>长内容区域开始</h3>
                <p>这是长内容区域的第一段。选择这里的文字，然后滚动页面，观察划词助手UI是否正确跟随。</p>
                
                <p style="margin-top: 200px;">这是中间的一段文字。当页面滚动时，选中的文本如果滚出视口，UI应该隐藏。</p>
                
                <p style="margin-top: 300px;">这是另一段测试文字。测试在不同滚动位置时的表现。</p>
                
                <p style="margin-top: 400px;">继续测试滚动功能。选择这段文字后滚动页面。</p>
                
                <p style="margin-top: 300px;">最后一段测试文字。用于验证在页面底部的表现。</p>
            </div>
        </div>
        
        <div class="test-section github-like">
            <h2 style="color: #58a6ff;">4. GitHub风格测试</h2>
            <p>这个区域模拟GitHub的深色主题，用于测试在不同网站样式下的兼容性：</p>
            <textarea placeholder="在GitHub风格的输入框中测试划词助手..."></textarea>
            <p>选择这段深色主题下的文字，测试划词助手的显示效果。</p>
        </div>
        
        <div class="test-section">
            <h2>5. 密码输入框测试</h2>
            <p>密码输入框应该被排除，不显示划词助手：</p>
            <input type="password" placeholder="这是密码输入框，选择这里的文字不应该显示划词助手" style="width: 100%; padding: 10px; margin: 10px 0;">
        </div>
        
        <div class="test-section">
            <h2>6. 复杂布局测试</h2>
            <div style="display: flex; gap: 20px;">
                <div style="flex: 1; background: #f0f8ff; padding: 15px; border-radius: 6px;">
                    <h4>左侧内容</h4>
                    <p>这是左侧的测试内容。选择这里的文字测试在复杂布局中的表现。</p>
                </div>
                <div style="flex: 1; background: #fff8f0; padding: 15px; border-radius: 6px;">
                    <h4>右侧内容</h4>
                    <p>这是右侧的测试内容。测试在不同容器中的定位准确性。</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // 显示滚动位置
        window.addEventListener('scroll', () => {
            document.getElementById('scroll-pos').textContent = Math.round(window.scrollY);
        });
        
        // 添加一些测试日志
        console.log('测试页面已加载，可以开始测试划词助手功能');
        
        // 模拟一些动态内容
        setTimeout(() => {
            const dynamicSection = document.createElement('div');
            dynamicSection.className = 'test-section';
            dynamicSection.innerHTML = `
                <h2>7. 动态内容测试</h2>
                <p>这是动态添加的内容，用于测试在动态内容中的表现。选择这段文字测试功能。</p>
            `;
            document.querySelector('.container').appendChild(dynamicSection);
            console.log('动态内容已添加');
        }, 2000);
    </script>
</body>
</html>
